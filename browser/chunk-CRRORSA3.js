import{a as V}from"./chunk-ENKFK5UL.js";import"./chunk-KBWQJKVL.js";import{C as a,Da as w,Ea as N,F as h,Ga as F,Ha as T,Ia as D,J as d,Na as L,O as M,P as p,Q as r,R as n,V as g,W as f,Y as P,_ as u,aa as s,ga as S,ia as _,ja as o,ka as x,la as m,sa as O,t as b,ta as C,u as E,ua as I,v as y,va as G,wa as k,y as v}from"./chunk-OT5C62IN.js";var $=["class","component"],B=t=>["/gestao/novo",t];function R(t,c){if(t&1){let e=P();r(0,"div",8)(1,"input",9),u("input",function(l){E(e);let q=s();return y(q.query.set((l.target.value||"").trim()))}),n()()}if(t&2){let e=s();a(),p("value",e.query())}}function z(t,c){t&1&&(g(0),r(1,"div",10),o(2," (Em breve) filtros por per\xEDodo, status, empresa, CPF/CNPJ, sistema, etc. "),n(),f())}function A(t,c){if(t&1&&(r(0,"a",15)(1,"div",16),o(2),n(),r(3,"div",17),o(4),n(),r(5,"div",18),o(6),n()()),t&2){let e=c.$implicit;p("routerLink",O(5,B,e.fileName)),M("aria-label","Criar "+e.id),a(2),x(e.id||e.fileName),a(2),x(e.title),a(2),m("Fonte: ",e.fileName)}}function X(t,c){if(t&1&&(g(0),r(1,"div",12)(2,"div")(3,"b"),o(4,"Conjunto:"),n(),o(5),n(),r(6,"div")(7,"b"),o(8,"Vers\xE3o:"),n(),o(9),n(),r(10,"div")(11,"b"),o(12,"Carregado em:"),n(),o(13),C(14,"date"),n()(),r(15,"div",13),d(16,A,7,7,"a",14),n(),f()),t&2){let e=c.ngIf,i=s(2);a(5),m(" ",e.setId),a(4),m(" ",e.version||"\u2014"),a(4),m(" ",G(14,4,e.uploadedAt,"short")),a(3),p("ngForOf",i.filter(e.events,i.query()))}}function J(t,c){t&1&&(r(0,"div",10),o(1," Nenhum conjunto XSD carregado ainda. V\xE1 em "),r(2,"b"),o(3,"Gerenciamento"),n(),o(4," \u2192 Upload XSD. "),n())}function U(t,c){if(t&1&&(g(0),d(1,X,17,7,"ng-container",11),C(2,"async"),d(3,J,5,0,"ng-template",null,0,k),f()),t&2){let e=S(4),i=s();a(),p("ngIf",I(2,2,i.catalog$))("ngIfElse",e)}}var j=class t{catalogSvc=b(V);active=v("novo");catalog$=this.catalogSvc.catalog$;onGerarNovo(){this.active.set("novo")}onFiltrar(){this.active.set("filtrar")}query=v("");filter(c,e){if(!e)return c;let i=e.toLowerCase();return c.filter(l=>l.id?.toLowerCase().includes(i)||l.title?.toLowerCase().includes(i)||l.fileName?.toLowerCase().includes(i)||l.description?.toLowerCase().includes(i))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=h({type:t,selectors:[["app-gestao",8,"component"]],attrs:$,decls:11,vars:7,consts:[["noCatalog",""],[1,"gestao"],[1,"gestao-header"],[1,"left"],[3,"click"],["class","right",4,"ngIf"],[1,"gestao-body"],[4,"ngIf"],[1,"right"],["type","search","placeholder","Buscar evento (ex.: S-1200 ou 'Remunera\xE7\xE3o')",3,"input","value"],[1,"placeholder"],[4,"ngIf","ngIfElse"],[1,"catalog-meta"],[1,"event-grid"],["class","event-card",3,"routerLink",4,"ngFor","ngForOf"],[1,"event-card",3,"routerLink"],[1,"event-code"],[1,"event-title"],[1,"event-file"]],template:function(e,i){e&1&&(r(0,"div",1)(1,"header",2)(2,"div",3)(3,"button",4),u("click",function(){return i.onFiltrar()}),o(4,"Filtrar eventos"),n(),r(5,"button",4),u("click",function(){return i.onGerarNovo()}),o(6,"Gerar novo"),n()(),d(7,R,2,1,"div",5),n(),r(8,"section",6),d(9,z,3,0,"ng-container",7)(10,U,5,4,"ng-container",7),n()()),e&2&&(a(3),_("active",i.active()==="filtrar"),a(2),_("active",i.active()==="novo"),a(2),p("ngIf",i.active()==="novo"),a(2),p("ngIf",i.active()==="filtrar"),a(),p("ngIf",i.active()==="novo"))},dependencies:[D,w,N,L,F,T],styles:[".gestao[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto 1fr;height:100%;gap:12px}.gestao-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background:#fff;padding:12px;border:1px solid #e5e7eb;border-radius:12px;gap:12px}.gestao-header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;gap:8px}.gestao-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 14px;border-radius:10px;border:1px solid #e5e7eb;background:#f8fafc;color:#000;cursor:pointer}.gestao-header[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#eef2ff;color:#1e3a8a;font-weight:600}.gestao-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 12px;min-width:360px;border-radius:8px;border:1px solid #e5e7eb;background:#f8fafc;color:#000}.catalog-meta[_ngcontent-%COMP%]{font-size:12px;opacity:.9;display:flex;gap:18px;margin-bottom:6px}.event-grid[_ngcontent-%COMP%]{display:grid;padding:10px;background:#fff;border-radius:14px;border:1px solid #e5e7eb;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:12px}.event-card[_ngcontent-%COMP%]{display:grid;gap:6px;padding:14px;border:1px dashed #e5e7eb;border-radius:14px;text-decoration:none;color:inherit;background:#f8fafc}.event-card[_ngcontent-%COMP%]:hover{border-color:#8ab4f8}.event-code[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px}.event-title[_ngcontent-%COMP%]{opacity:.95}.event-file[_ngcontent-%COMP%]{font-size:12px;opacity:.7}.placeholder[_ngcontent-%COMP%]{opacity:.7;border:1px dashed #444;border-radius:12px;padding:20px}"]})};export{j as GestaoComponent};
